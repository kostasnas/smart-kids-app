<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Kids Shopping - ÎˆÎ¾Ï…Ï€Î½Î¿Ï‚ Î£ÏÎ¼Î²Î¿Ï…Î»Î¿Ï‚ Î‘Î³Î¿ÏÏÎ½ Î³Î¹Î± Î Î±Î¹Î´Î¹Î¬</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .app-container {
            max-width: 420px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            text-align: center;
        }
        .header h1 { font-size: 24px; margin-bottom: 8px; }
        .header p { opacity: 0.9; font-size: 14px; }
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            overflow-x: auto;
        }
        .nav-tab {
            flex: 1;
            padding: 16px 12px;
            background: none;
            border: none;
            font-size: 13px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }
        .nav-tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }
        .content { padding: 20px; min-height: 500px; }

        .child-profile-wrapper {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .child-profile {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 12px;
            padding: 16px;
            color: white;
        }
        .profile-header { display: flex; align-items: center; margin-bottom: 16px; }
        .profile-avatar {
            width: 80px; height: 80px; border-radius: 50%;
            background-size: cover; background-position: center;
            margin-right: 16px;
        }
        .profile-info h2 { font-size: 22px; margin-bottom: 4px; }
        .profile-details { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 12px; }
        .detail-item {
            background: rgba(255,255,255,0.2);
            padding: 12px;
            border-radius: 12px;
        }
        .detail-label { font-size: 11px; opacity: 0.8; text-transform: uppercase; letter-spacing: 0.5px; }
        .detail-value { font-size: 16px; font-weight: 600; }

        .home-profile-item {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 16px; padding: 16px; color: white;
            display: flex; align-items: center; cursor: pointer;
            margin-bottom: 12px;
            position: relative;
        }
        .home-profile-item.selected { border: 3px solid #667eea; }
        .home-profile-avatar { width: 50px; height: 50px; border-radius: 50%; background-size: cover; margin-right: 16px; }
        .delete-child-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #ff4d4d;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 16px;
            line-height: 24px;
            cursor: pointer;
            text-align: center;
        }

        .notification-card {
            background: #fff3cd; border-left: 5px solid #ffc107; padding: 14px; border-radius: 8px; margin-bottom: 12px;
        }

        .edit-field { display: flex; flex-direction: column; gap: 6px; margin-bottom: 16px; }
        .edit-label { font-weight: 600; color: #333; font-size: 14px; }
        .edit-input {
            padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 15px;
        }
        .photo-preview {
            width: 120px; height: 120px; border-radius: 50%; background-size: cover;
            margin: 0 auto 12px; border: 3px solid #667eea;
        }

        .section-title { font-size: 18px; font-weight: 700; margin-bottom: 16px; color: #333; }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; border: none; padding: 14px 24px;
            border-radius: 12px; font-size: 15px; font-weight: 600;
            cursor: pointer; width: 100%;
        }
        .btn-secondary {
            background: #e0e0e0; color: #333; border: none;
            padding: 14px 24px; border-radius: 12px; font-size: 15px;
            cursor: pointer; width: 100%;
        }
        .empty-state { text-align: center; padding: 40px 20px; color: #999; }
        .empty-state-icon { font-size: 48px; margin-bottom: 16px; }

        .shop-card {
            background: white; border: 1px solid #ddd; border-radius: 12px;
            padding: 16px; margin-bottom: 16px; text-align: center;
        }
        .shop-card a {
            display: block; margin-top: 12px; background: #667eea; color: white;
            padding: 12px; border-radius: 8px; text-decoration: none; font-weight: bold;
        }
        .need-item {
            background: #f0f0f0; padding: 12px; border-radius: 8px; margin-bottom: 8px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .delete-btn {
            background: #ff4d4d; color: white; border: none;
            border-radius: 50%; width: 24px; height: 24px;
            font-size: 16px; line-height: 24px; cursor: pointer;
            text-align: center; padding: 0;
        }
        .ai-response {
            background: #e8f5e9; padding: 16px; border-radius: 12px; margin-top: 16px;
            white-space: pre-line; line-height: 1.5;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const occasions = [
            { name: "Î‘Ï€ÏŒÎºÏÎ¹ÎµÏ‚", date: "2026-02-19", icon: "ğŸ­" },
            { name: "ÎšÎ±Î¸Î±ÏÎ¬ Î”ÎµÏ…Ï„Î­ÏÎ±", date: "2026-03-02", icon: "ğŸª" },
            { name: "Î Î¬ÏƒÏ‡Î±", date: "2026-04-19", icon: "ğŸ•¯ï¸" },
        ];

        function calculateDaysUntil(dateStr) {
            const now = new Date();
            const event = new Date(dateStr);
            const diff = event - now;
            return Math.ceil(diff / (1000 * 60 * 60 * 24));
        }

        function App() {
            const [activeTab, setActiveTab] = useState('home');
            const [children, setChildren] = useState([]);
            const [selectedChildId, setSelectedChildId] = useState(null);
            const [savedNeeds, setSavedNeeds] = useState({});

            useEffect(() => {
                const saved = localStorage.getItem('kidsShoppingChildren');
                const initial = saved ? JSON.parse(saved) : [{
                    id: 1,
                    name: "Î£Î¿Ï†Î¯Î±",
                    age: 5,
                    gender: "ÎšÎ¿ÏÎ¯Ï„ÏƒÎ¹",
                    clothingSize: "110cm (5-6 ÎµÏ„ÏÎ½)",
                    shoeSize: "28",
                    favoriteColors: ["Î¡Î¿Î¶", "ÎœÏ‰Î²"],
                    avatarBase64: null
                }];
                setChildren(initial);
                if (initial.length > 0) {
                    setSelectedChildId(initial[0].id);
                }

                const savedN = localStorage.getItem('savedNeeds');
                if (savedN) setSavedNeeds(JSON.parse(savedN));
            }, []);

            useEffect(() => {
                localStorage.setItem('kidsShoppingChildren', JSON.stringify(children));
            }, [children]);

            useEffect(() => {
                localStorage.setItem('savedNeeds', JSON.stringify(savedNeeds));
            }, [savedNeeds]);

            const selectedChild = children.find(c => c.id === selectedChildId);

            const updateChild = (updated) => {
                setChildren(prev => prev.map(c => c.id === updated.id ? updated : c));
            };

            const addNewChild = (newChild) => {
                const newId = Math.max(...children.map(c => c.id || 0), 0) + 1;
                const childWithId = { ...newChild, id: newId };
                setChildren(prev => [...prev, childWithId]);
                setSelectedChildId(newId);
                setActiveTab('home');
            };

            const deleteChild = (id) => {
                if (window.confirm("Î£Î¯Î³Î¿Ï…ÏÎ± Î¸Î­Î»ÎµÎ¹Ï‚ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÎ¹Ï‚ Î±Ï…Ï„ÏŒ Ï„Î¿ Ï€Î±Î¹Î´Î¯ ÎºÎ±Î¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î±Î½Î¬Î³ÎºÎµÏ‚ Ï„Î¿Ï…;")) {
                    setChildren(prev => prev.filter(c => c.id !== id));
                    setSavedNeeds(prev => {
                        const newNeeds = { ...prev };
                        delete newNeeds[id];
                        return newNeeds;
                    });
                    if (selectedChildId === id) {
                        const remaining = children.filter(c => c.id !== id);
                        setSelectedChildId(remaining.length > 0 ? remaining[0].id : null);
                    }
                }
            };

            const upcoming = occasions
                .map(o => ({ ...o, daysUntil: calculateDaysUntil(o.date) }))
                .filter(o => o.daysUntil > 0 && o.daysUntil <= 30)
                .sort((a, b) => a.daysUntil - b.daysUntil);

            return (
                <div className="app-container">
                    <div className="header">
                        <h1>ğŸ‘¶ Smart Kids Shopping</h1>
                        <p>ÎŸ Î­Î¾Ï…Ï€Î½Î¿Ï‚ ÏƒÏÎ¼Î²Î¿Ï…Î»Î¿Ï‚ Î±Î³Î¿ÏÏÎ½ Î³Î¹Î± Î³Î¿Î½ÎµÎ¯Ï‚</p>
                    </div>

                    <div className="nav-tabs">
                        <button className={`nav-tab ${activeTab === 'home' ? 'active' : ''}`} onClick={() => setActiveTab('home')}>ğŸ  Î‘ÏÏ‡Î¹ÎºÎ®</button>
                        <button className={`nav-tab ${activeTab === 'profile' ? 'active' : ''}`} onClick={() => setActiveTab('profile')}>ğŸ‘¤ Î ÏÎ¿Ï†Î¯Î»</button>
                        <button className={`nav-tab ${activeTab === 'needs' ? 'active' : ''}`} onClick={() => setActiveTab('needs')}>ğŸ›’ Î‘Î½Î¬Î³ÎºÎ·</button>
                        <button className={`nav-tab ${activeTab === 'ai' ? 'active' : ''}`} onClick={() => setActiveTab('ai')}>ğŸ¤– AI Î£ÏÎ¼Î²Î¿Ï…Î»Î¿Ï‚</button>
                        <button className={`nav-tab ${activeTab === 'deals' ? 'active' : ''}`} onClick={() => setActiveTab('deals')}>ğŸ”¥ Î ÏÎ¿ÏƒÏ†Î¿ÏÎ­Ï‚</button>
                    </div>

                    <div className="content">
                        {activeTab === 'home' && (
                            <div>
                                <div className="section-title">Î¤Î± Î Î±Î¹Î´Î¹Î¬ Î¼Î¿Ï…</div>
                                {children.length === 0 ? (
                                    <div className="empty-state">
                                        <div className="empty-state-icon">ğŸ‘¶</div>
                                        <p>Î”ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÎ¹ Ï€Î±Î¹Î´Î¹Î¬ Î±ÎºÏŒÎ¼Î±</p>
                                        <button className="btn-primary" onClick={() => setActiveTab('add-child